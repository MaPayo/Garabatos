<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap-4.3.1.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Esto aparece como título de la ventana o pestaña en el navegador: cámbialo -->
    <title>Garabatos- Grupo 4</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Garabatos-Grupo 4</a>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Todos</a>
            <!--Crear clases por javascript-->
            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">2C</a>
            <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">3A</a>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab"> <button type="button" class="btn btn-secondary" aria-controls="formulario" aria-selected="false">+</button>
                </div>
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">Prueba</div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">...</div>
            </div>
        </div>
    </div>

    <!-- nombre del sitio; es un enlace que lleva a la página ppal -->


    <!-- container-fluid expande el contenedor para que ocupe todo el espacio disponible -->
    <!-- <div class="container-fluid">
        <div class="row">-->
    <!-- panel lateral, demostrando acordeones (secciones expansibles) -->
    <!--<div class="col-sm-4">
                <div class="accordion" id="accordionExample">

                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    titulo1
                                </button>
                            </h2>
                        </div>

                        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                            <div class="card-body">
                                contenido
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingTwo">
                            <h2 class="mb-0">
                                <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Collapsible Group Item #2
                                </button>
                            </h2>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                            <div class="card-body">
                                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird
                                on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft
                                beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingThree">
                            <h2 class="mb-0">
                                <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Collapsible Group Item #3
                                </button>
                            </h2>
                        </div>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                            <div class="card-body">
                                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird
                                on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft
                                beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                            </div>
                        </div>
                    </div>
                </div>
            </div>-->
    <!-- panel ppal, demostrando un formulario con control de texto y un diálogo modal -->
    <!--<div class="col-sm-8 anuncio">
                <form method="post">
                    <div class="form-row datos-anuncio">
                        <div class="form-group col-md-6">
                            <label for="inputTitulo">Título del anuncio</label>
                            <input type="text" class="form-control" id="inputTitulo" placeholder="Vendo Moto">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="inputCategorias">Categorías</label>
                            <div class="input-group">
                                <input type="text" class="form-control" readonly id="inputCategorias" placeholder="(ninguna)">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#modalSeleccionCategoria">Cambiar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row texto-anuncio">
                        <div class="form-group col">
                            <label for="inputTextoAnuncio">Cuerpo del anuncio</label>
                            <textarea id="inputTextoAnuncio" class="form-control">
                    Hello, World!
                </textarea>
                        </div>
                    </div>-->
    <!-- botón para enviar el formulario; justify-content-end lo justifica a la derecha -->
    <!-- <div class="form-row justify-content-end">
                        <button type="submit" id="boton-publicar" class="btn btn-primary">Publicar anuncio</button>
                    </div>
            </div>
            </form>
        </div>
    </div>
    </div>
-->
    <!-- Modal de selección de categorías (lanzado por un botón) -->
    <!--<div class="modal fade" id="modalSeleccionCategoria" tabindex="-1" role="dialog" aria-labelledby="tituloModalCategorias" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tituloModalCategorias">Selección de Categorías de Anuncio</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <ul class="list-group" id="lista-categorias">
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="vehiculos">
                            Vehículos
                            <span class="badge badge-primary badge-pill">14</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="gangas">
                            Gangas
                            <span class="badge badge-primary badge-pill">2</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="vintage">
                            Vintage
                            <span class="badge badge-primary badge-pill">1</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="cat-larga">
                            Otra categoría
                            <span class="badge badge-primary badge-pill">2</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="cat-muylarga">
                            Otra categoría
                            <span class="badge badge-primary badge-pill">2</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center" id="cat-maslargatodavia">
                            Otra categoría
                            <span class="badge badge-primary badge-pill">2</span>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" id="button-save-cats">Guardar y
                        salir</button>
                </div>
            </div>
        </div>
    </div>-->

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/bootstrap.bundle-4.3.1.js"></script>
    <script src="js/tinymce.min.js"></script>
    <script src="js/gb.js" type="module"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: '#inputTextoAnuncio',
            plugins: ['link image lists table'],
            toolbar: 'undo redo | bold italic backcolor | alignleft aligncenter alignjustify | bullist numlist outdent indent | image link table | removeformat',
            menubar: false,
        });
        $("#lista-categorias li").click((e) => {
            // marca como activo (o, si ya lo era, inactivo) el ítem elegido
            $(e.currentTarget).toggleClass("active");
        });
        $("#button-save-cats").click((e) => {
            // rellena el #inputCategorias con la nueva lista de categorias, compuesta por todas las ahora-activas
            $("#inputCategorias").val($("#lista-categorias li.active").toArray().map(o => o.id).join(" "));
        });
        $("#boton-publicar").click((e) => {
            let o = {
                titulo: $("#inputTitulo").val(),
                cats: $("#inputCategorias").val(),
                text: tinymce.activeEditor.getContent()
            };
            console.log("Publicando anuncio, beep bop!", o);
            // esto evita que se envie de verdad (lo cual, en este caso, sólo recargaría la página)
            e.preventDefault();
        });
    </script>
</body>

</html>